import"./style.css";import{BlankProjectLoad}from"./blank-project-load";import{DomManip,displayToDo,displayFromSession,displayFromLocal,displayAllTask,displayImportant,displayToday}from"./dom-manipulation";import{CreateToDo}from"./create-to-do";import{removeChecklistChild}from"./uitility-function";import{saveToLocal}from"./manage-local-storage";window.onload=function(){const e=sessionStorage.getItem("lastOpened"),t=(new Date).getTime(),o=document.querySelector(".todo-lists");e&&displayFromSession(sessionStorage.getItem("todoArray")),o.firstChild||displayFromLocal(localStorage.getItem("todoArray"));const a=new DomManip,l=document.querySelector(".task-button"),s=document.querySelector("dialog"),i=document.querySelector(".add-project"),r=document.querySelector("form");document.querySelector(".checklist-ul"),l.addEventListener("click",(()=>{s.showModal()})),i.addEventListener("click",(()=>{a.addAProjectFunc()})),s.addEventListener("click",(function(e){let t=e.target;switch(t.id){case"dialog-close-button":r.reset(),removeChecklistChild(),s.close();break;case"add-checklist-button":a.addChecklistItems();break;case"include-button":e.preventDefault();let t=CreateToDo.gatherData();t&&(console.log(t),saveToLocal(t.getDetails()),displayToDo(t.getDetails()),removeChecklistChild(),r.reset(),s.close())}console.log(t.className),t.classList.contains("fa-solid")&&a.removeChecklistItems(e)})),sessionStorage.setItem("lastOpened",t),document.querySelector(".all-task").addEventListener("click",displayAllTask),document.querySelector(".important").addEventListener("click",displayImportant),document.querySelector(".today").addEventListener("click",displayToday)}();